var Ye=Object.defineProperty,Je=Object.defineProperties;var Xe=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var Ce=(t,n,s)=>n in t?Ye(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,E=(t,n)=>{for(var s in n||(n={}))Qe.call(n,s)&&Ce(t,s,n[s]);if(ve)for(var s of ve(n))Ve.call(n,s)&&Ce(t,s,n[s]);return t},te=(t,n)=>Je(t,Xe(n));import{c as Ze,r as p,u as Ae,j as e,G as me,a as $,d as k,b as W,R as v,i as T,F as q,e as a,D as Y,f as J,g as X,h as Q,k as A,A as N,T as w,B as L,l as ie,Q as K,m as I,n as fe,M as be,s as V,o as Te,p as Ne,q as ke,t as j,v as he,C as Ie,w as Oe,I as B,x as ze,y as Re,z as We,E as Me,H,L as xe,J as _,K as F,N as $e,O as z,P as et,S as tt,U as je,V as He,W as Z,X as qe,Y as _e,Z as G,_ as Fe,$ as Be,a0 as re,a1 as ne,a2 as ae,a3 as rt,a4 as nt,a5 as at,a6 as it,a7 as ot,a8 as lt,a9 as st,aa as ct,ab as dt,ac as ut,ad as ht,ae as pt,af as gt,ag as mt,ah as ft,ai as M,aj as yt,ak as bt,al as xt,am as vt,an as Ct}from"./vendor.60c3ce3a.js";const wt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}};wt();const St={currentUser:null},Ge=Ze({name:"currentUser",initialState:St,reducers:{setCurrentUser:(t,n)=>{t.currentUser=n.payload}}}),{setCurrentUser:R}=Ge.actions;var Pt=Ge.reducer;const Lt=["places"],Dt={width:"100%",height:"90vh"};function Ut(){const[t,n]=p.exports.useState({lat:0,lng:0});p.exports.useEffect(()=>{"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition(function(o){n({lat:o.coords.latitude,lng:o.coords.longitude})})):console.log("Not Available")},[]);const{isLoaded:s,loadError:u}=Ae({googleMapsApiKey:{}.REACT_APP_GOOGLE_MAPS_API_KEY,libraries:Lt});if(u)return"Error loading maps";if(!s)return"Loading maps";const l=o=>{console.log("lat : ",o.latLng.lat(),"lng : ",o.latLng.lng())};return e("div",{children:e(me,{mapContainerStyle:Dt,zoom:15,center:{lat:t.lat,lng:t.lng},onClick:o=>l(o)})})}function Et(t){let n=$(D=>D.currentUser);const s=k(),u=W(),{open:l,setOpen:o}=t,[f,g]=v.useState(""),[b,y]=v.useState(""),[c,d]=v.useState(""),[x,h]=v.useState(""),[C,i]=v.useState(0),[r,m]=v.useState(0),[O,P]=v.useState(null);p.exports.useEffect(()=>{y(""),g("");const D=T(s,"serviceProviderUser",n.currentUser.uid);q(D).then(S=>{d(S.data().email),h(S.data().displayName),i(S.data().peopleCount),m(S.data().timePeriod),P(S.data().lastUpdate),console.log(S)}).catch(S=>console.log(S))},[]);const U=async D=>{if(D.preventDefault(),O!==null){let S=new Date(O.seconds*1e3);const Ke=new Date().getTime()-S.getTime();if(Math.floor(Ke/(1e3*60*60*24))<1){g("You can only update once a week");return}}if(c===""||x===""||C===0||r===0){g("Please fill out all fields");return}try{const S=T(s,"serviceProviderUser",n.currentUser.uid);await K(S,{email:c,displayName:x,peopleCount:+C,timePeriod:+r,lastUpdate:new Date});const ee=I();await fe(ee.currentUser,{displayName:x}),y("User info updated"),u(R(ee.currentUser))}catch(S){g(S.message)}};return a(Y,{open:l,onClose:()=>o(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(J,{id:"alert-dialog-title",children:"Help Provider Account Information"}),a(X,{children:[e(Q,{id:"alert-dialog-description",children:"You can change/Update your account information here. Please note that you can only update your account information once every 24 hours."}),a("form",{style:At.formContainer,onSubmit:D=>U(D),children:[f!==""&&a(A,{children:[e(N,{severity:"error",children:f}),e("br",{})]}),b!==""&&a(A,{children:[e(N,{severity:"success",children:b}),e("br",{})]}),e(w,{type:"email",id:"outlined-error-helper-text",placeholder:"Enter your email here",size:"small",value:c,disabled:!0}),e("br",{}),e(w,{type:"text",id:"outlined-error-helper-text",placeholder:"Enter your Display Name here",size:"small",required:!0,value:x,onChange:D=>h(D.target.value),helperText:"Please enter your display name"}),e("br",{}),e(w,{type:"number",id:"outlined-error-helper-text",placeholder:"Enter how much people you can help with here",size:"small",required:!0,value:C,onChange:D=>i(D.target.value),helperText:"Enter how much people you can help with here"}),e("br",{}),e(w,{type:"number",id:"outlined-error-helper-text",placeholder:"Enter number of weeks you can help with here",size:"small",required:!0,value:r,onChange:D=>m(D.target.value),helperText:"Please enter number of weeks you can help with here"}),e("br",{}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"UPDATE ACCOUNT INFO"})]})]}),e(ie,{children:e(L,{onClick:()=>{o(!1),y(""),g("")},autoFocus:!0,children:"Close"})})]})}const At={formContainer:{display:"flex",flexDirection:"column",width:"100%",marginTop:25}},Tt={width:"100%",height:"40vh"};function Nt(t){let n=$(i=>i.currentUser);const{open:s,setOpen:u}=t,[l,o]=p.exports.useState({lat:6.7495,lng:79.913}),f=k();I();const[g,b]=p.exports.useState(""),[y,c]=p.exports.useState(""),[d,x]=p.exports.useState("");p.exports.useEffect(()=>{const i=T(f,"serviceProviderUser",n.currentUser.uid);q(i).then(r=>{o({lat:r.data().currentLocation.lat,lng:r.data().currentLocation.lng}),b(r.data().currentLocation.lat+" , "+r.data().currentLocation.lng)}).catch(r=>console.log(r))},[]);const h=i=>{o({lat:i.latLng.lat(),lng:i.latLng.lng()}),b(i.latLng.lat()+" , "+i.latLng.lng())},C=async i=>{if(i.preventDefault(),g===""){c("Please select a location");return}try{const r=I().currentUser,m=T(k(),"serviceProviderUser",r.uid);K(m,{currentLocation:{lat:l.lat,lng:l.lng}}),x("Location set successfully")}catch(r){c(r.message)}};return a(Y,{fullWidth:!0,maxWidth:"md",open:s,onClose:()=>u(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(J,{id:"alert-dialog-title",children:"Set your current Location"}),a(X,{children:[e(Q,{id:"alert-dialog-description",children:"Please select your current location on the map."}),e("br",{}),e(me,{mapContainerStyle:Tt,zoom:15,center:{lat:l.lat,lng:l.lng},onClick:i=>h(i),children:e(be,{position:l,label:"My Location",title:"My rollover text"})}),a("form",{style:kt.formContainer,onSubmit:i=>C(i),children:[y!==""&&a(A,{children:[e(N,{severity:"error",children:y}),e("br",{})]}),d!==""&&a(A,{children:[e(N,{severity:"success",children:d}),e("br",{})]}),e(w,{type:"text",id:"outlined-error-helper-text",placeholder:"Enter your family members here",size:"small",required:!0,"aria-readonly":!0,value:g}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"UPDATE CURRENT LOCATION"})]})]}),e(ie,{children:e(L,{autoFocus:!0,onClick:()=>{u(!1),c(""),x("")},children:"Close"})})]})}const kt={formContainer:{display:"flex",flexDirection:"column",width:"100%",marginTop:25}};function It(t){let n=$(c=>c.currentUser.currentUser);const{open:s,setOpen:u}=t,[l,o]=v.useState(""),[f,g]=v.useState(""),b=async()=>{try{const c=T(k(),"serviceProviderUser",n.uid),d=await q(c);if(!d.exists()){g("User not found");return}d.data().availability==="Available"?o("Not Available"):o("Available")}catch{g("Error getting user data")}},y=async()=>{try{const c=T(k(),"serviceProviderUser",n.uid),d=await q(c);if(!d.exists()){g("User not found");return}d.data().availability==="Available"?(await K(c,{availability:"Not Available"}),o("Available")):(await K(c,{availability:"Available"}),o("Not Available")),g("")}catch{g("Error setting status")}};return p.exports.useEffect(()=>{b()},[s]),a(Y,{fullWidth:!0,maxWidth:"sm",open:s,onClose:()=>u(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(J,{id:"alert-dialog-title",children:"Set Availability"}),a(X,{children:[e(Q,{id:"alert-dialog-description",children:" Change your availability status here "}),e("br",{}),a(L,{variant:"contained",color:"primary",onClick:()=>y(),children:["Set ",l]})]}),e(ie,{children:e(L,{autoFocus:!0,onClick:()=>u(!1),children:"Close"})})]})}const pe=240,we=t=>({width:pe,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),overflowX:"hidden"}),Se=t=>({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${t.spacing(7)} + 1px)`,[t.breakpoints.up("sm")]:{width:`calc(${t.spacing(8)} + 1px)`}}),Pe=V("div")(({theme:t})=>E({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)),Ot=V(Te,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:n})=>E({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:pe,width:`calc(100% - ${pe}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})),zt=V(Ne,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:n})=>E(E({width:pe,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&te(E({},we(t)),{"& .MuiDrawer-paper":we(t)})),!n&&te(E({},Se(t)),{"& .MuiDrawer-paper":Se(t)})));function Rt(){let t=$(m=>m.currentUser);const n=W(),[s,u]=v.useState(!0),[l,o]=v.useState(!1),[f,g]=v.useState(!1),[b,y]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const O=T(k(),"serviceProviderUser",t.currentUser.uid);(await q(O)).exists()||(u(!1),h("/")),u(!1)}catch(O){console.log(O),u(!1),h("/")}})()},[]);const c=ke(),[d,x]=v.useState(!1);let h=j();const C=()=>{x(!0)},i=()=>{x(!1)},r=async()=>{const m=I();console.log("logout");try{await He(m),n(R({})),localStorage.setItem("currentUser",null),h("/")}catch(O){console.log(O)}};return a(he,{sx:{display:"flex"},children:[e(Ie,{}),e(Ot,{className:"gradient-background",position:"fixed",open:d,children:a(Oe,{children:[e(B,{className:"gradient-background",color:"inherit","aria-label":"open drawer",onClick:C,edge:"start",sx:E({marginRight:5},d&&{display:"none"}),children:e(ze,{})}),e(Re,{variant:"h6",noWrap:!0,component:"div",children:"HELP PROVIDER DASHBOARD"})]})}),a(zt,{variant:"permanent",open:d,children:[a(Pe,{children:[e("label",{style:{fontWeight:"bold"},children:"PUT IN SHELTER"}),e(B,{onClick:i,children:c.direction==="rtl"?e(We,{}):e(Me,{})})]}),e(H,{}),a(xe,{children:[a(_,{sx:{minHeight:48,justifyContent:d?"initial":"center",px:2.5},onClick:()=>o(!0),children:[e(F,{sx:{minWidth:0,mr:d?3:"auto",justifyContent:"center"},children:e($e,{})}),e(z,{primary:"Update Account Info",sx:{opacity:d?1:0}})]},"Update Account Info"),a(_,{sx:{minHeight:48,justifyContent:d?"initial":"center",px:2.5},onClick:()=>g(!0),children:[e(F,{sx:{minWidth:0,mr:d?3:"auto",justifyContent:"center"},children:e(et,{})}),e(z,{primary:"Set Location",sx:{opacity:d?1:0}})]},"Set Location"),a(_,{sx:{minHeight:48,justifyContent:d?"initial":"center",px:2.5},onClick:()=>y(!0),children:[e(F,{sx:{minWidth:0,mr:d?3:"auto",justifyContent:"center"},children:e(tt,{})}),e(z,{primary:"Set Availability",sx:{opacity:d?1:0}})]},"Set Availability"),a(_,{sx:{minHeight:48,justifyContent:d?"initial":"center",px:2.5},onClick:()=>r(),children:[e(F,{sx:{minWidth:0,mr:d?3:"auto",justifyContent:"center"},children:e(je,{})}),e(z,{primary:"Logout",sx:{opacity:d?1:0}})]},"Logout")]}),e(H,{})]}),a(he,{component:"main",sx:{flexGrow:1,p:3},children:[e(Pe,{}),e(Ut,{}),e(Et,{open:l,setOpen:o,onClose:()=>o(!1)}),e(Nt,{open:f,setOpen:g,onClose:()=>g(!1)}),e(It,{open:b,setOpen:y,onClose:()=>y(!1)})]})]})}function Wt(){const[t,n]=p.exports.useState(""),[s,u]=p.exports.useState(""),[l,o]=p.exports.useState(""),f=j(),g=I(),b=W(),y=async c=>{if(c.preventDefault(),s===""||l===""){n("Please fill in all fields");return}try{const x=(await qe(g,s,l)).user;b(R(x)),f("/helpprovider",{replace:!0})}catch(d){n(d.message)}};return e("div",{className:"gradient-background",style:oe.mainContainer,children:a(Z,{style:oe.formContainer,variant:"outlined",children:[e("h1",{style:oe.headerText,children:"Help Provider Login"}),a("form",{style:oe.fieldContainer,onSubmit:c=>y(c),children:[t!==""&&a(A,{children:[e(N,{severity:"error",children:t}),e("br",{})]}),e(w,{type:"email",id:"outlined-error-helper-text",label:"Email",placeholder:"Enter your email here",size:"small",required:!0,onChange:c=>u(c.target.value)}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Password",type:"password",placeholder:"Enter your password",size:"small",width:"100%",required:!0,onChange:c=>o(c.target.value)}),e("br",{}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"Login"})]})]})})}const oe={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},formContainer:{width:"60%",maxWidth:"500px"},headerText:{textAlign:"center",fontWeight:"bold"},fieldContainer:{padding:25,display:"flex",flexDirection:"column",justifyContent:"center"}};function Mt(){let t=$(r=>r.currentUser.currentUser);const n=j(),s=k(),[u,l]=p.exports.useState(""),[o,f]=p.exports.useState("Male"),[g,b]=p.exports.useState(0),[y,c]=p.exports.useState({lat:null,lng:null}),[d,x]=p.exports.useState(""),[h,C]=p.exports.useState(0);p.exports.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(r){c({lat:r.coords.latitude,lng:r.coords.longitude}),x(r.coords.latitude+" , "+r.coords.longitude)}):l("User location not avaliable")},[]);const i=async r=>{if(r.preventDefault(),console.log("user is ",t),l(""),o===""||+g==0||+h==0||d===""){l("Please fill out all fields");return}if(!t){l("Service provider auth data not provided!");return}try{await Fe(T(s,"serviceProviderUser",t.uid),{uid:t.uid,displayName:t.displayName,email:t.email,gender:o,currentLocation:y,peopleCount:+g,timePeriod:+h}),n("/helpwanted",{replace:!0})}catch(m){l(m.message)}};return e("div",{className:"gradient-background",style:le.mainContainer,children:a(Z,{style:le.formContainer,variant:"outlined",children:[e("h1",{style:le.headerText,children:"Personal Info"}),a("form",{style:le.fieldContainer,onSubmit:r=>i(r),children:[u!==""&&a(A,{children:[e(N,{severity:"error",children:u}),e("br",{})," "]}),a(_e,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Gender",size:"small",onChange:r=>f(r.target.value),children:[e(G,{value:"Male",children:"Male"}),e(G,{value:"Female",children:"Female"}),e(G,{value:"Other",children:"Other"})]}),e("br",{}),e(w,{type:"number",id:"outlined-error-helper-text",label:"Peoples you can serve",placeholder:"Enter how many peoples can stay with you",size:"small",required:!0,onChange:r=>b(r.target.value)}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Current Location",type:"text",placeholder:"Enter your current location",size:"small",width:"100%",required:!0,"aria-readonly":!0,value:d}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Time Period (in weeks)",type:"number",placeholder:"Time period",size:"small",width:"100%",required:!0,onChange:r=>C(r.target.value)}),e("br",{}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"Next"})]})]})})}const le={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},formContainer:{width:"60%",maxWidth:"500px"},headerText:{textAlign:"center",fontWeight:"bold"},fieldContainer:{padding:25,display:"flex",flexDirection:"column",justifyContent:"center"}};function $t(){const[t,n]=p.exports.useState(""),[s,u]=p.exports.useState(""),[l,o]=p.exports.useState(""),[f,g]=p.exports.useState(""),[b,y]=p.exports.useState(""),c=j(),d=W(),x=h=>{if(h.preventDefault(),s===""||l===""||f===""||b===""){n("Please fill all fields");return}if(f!==b){n("Password and comfirm password do not match");return}const C=I();Be(C,l,f).then(i=>{console.log("user created : ",i),n(""),fe(C.currentUser,{displayName:s}).then(()=>{d(R(C.currentUser)),c("/serviceProvidersignupother",{replace:!0})}).catch(r=>{let m=r.message;n(m)})}).catch(function(i){var r=i.code,m=i.message;console.log("error code : ",r),console.log("error message : ",m),n(m)})};return e("div",{className:"gradient-background",style:se.mainContainer,children:a(Z,{style:se.formContainer,variant:"outlined",children:[e("h1",{style:se.headerText,children:"Register"}),a("form",{style:se.fieldContainer,onSubmit:h=>x(h),children:[t!==""&&a(A,{children:[e(N,{severity:"error",children:t}),e("br",{})]}),e(w,{type:"email",id:"outlined-error-helper-text",label:"Email",placeholder:"Type your email",size:"small",required:!0,onChange:h=>o(h.target.value)}),e("br",{}),e(w,{type:"text",id:"outlined-error-helper-text",label:"Display Name",placeholder:"Type your Display Name",size:"small",required:!0,onChange:h=>u(h.target.value)}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Password",type:"password",placeholder:"Type your password",size:"small",width:"100%",required:!0,onChange:h=>g(h.target.value)}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Comfirm Password",type:"password",placeholder:"Comfirm password",size:"small",width:"100%",required:!0,onChange:h=>y(h.target.value)}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"Next"})]})]})})}const se={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},formContainer:{width:"60%",maxWidth:"500px"},headerText:{textAlign:"center",fontWeight:"bold"},fieldContainer:{padding:25,display:"flex",flexDirection:"column",justifyContent:"center"}};function jt(t){const{open:n,setOpen:s,shelter:u}=t;return u?a(Y,{fullWidth:!0,maxWidth:"sm",open:n,onClose:()=>s(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(J,{id:"alert-dialog-title",children:"Shelter Info"}),a(X,{children:[a(Q,{id:"alert-dialog-description",children:["Shelter Name: ",u.displayName,e("br",{}),"Shelter Address: ",u.address,e("br",{}),"Shelter Email: ",u.email,e("br",{})]}),e("br",{})]})]}):e("div",{children:"Loading..."})}function Ht(t){const{setRouter:n,shelter:s}=t;return a("div",{style:{width:400},children:[e("h1",{style:{fontWeight:"bold"},children:"Shelter Info"}),a(xe,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[a(re,{children:[e(ne,{children:e(ae,{children:e(rt,{})})}),e(z,{primary:"Availablity",secondary:s.availability})]}),e(H,{variant:"inset",component:"li"}),a(re,{children:[e(ne,{children:e(ae,{children:e(nt,{})})}),e(z,{primary:"Name",secondary:s.displayName})]}),e(H,{variant:"inset",component:"li"}),a(re,{children:[e(ne,{children:e(ae,{children:e(at,{})})}),e(z,{primary:"Email",secondary:s.email})]}),e(H,{variant:"inset",component:"li"}),a(re,{children:[e(ne,{children:e(ae,{children:e(it,{})})}),e(z,{primary:"People Can serve",secondary:s.peopleCount})]}),e(H,{variant:"inset",component:"li"}),a(re,{children:[e(ne,{children:e(ae,{children:e(ot,{})})}),e(z,{primary:"Time Period",secondary:s.timePeriod})]})]}),a("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[e(B,{color:"secondary","aria-label":"add an alarm",onClick:()=>{n(s.currentLocation)},children:e(lt,{})}),e(B,{color:"secondary","aria-label":"add an alarm",children:e(st,{})}),e(B,{color:"secondary","aria-label":"add an alarm",children:e(ct,{})})]})]})}const qt=["places","directions","geometry","drawing"],_t={width:"100%",height:"90vh"};function Ft(){const[t,n]=p.exports.useState({lat:0,lng:0}),[s,u]=p.exports.useState([]),[l,o]=p.exports.useState(null),[f,g]=p.exports.useState(null),[b,y]=p.exports.useState(!1),c=async()=>{try{u([]),(await ut(ht(k(),"serviceProviderUser"))).forEach(r=>{console.log(r.id," => ",r.data()),u(m=>[...m,r.data()])})}catch(i){console.log(i)}},d=async i=>{console.log("route set! : ",i);const m=[{latitude:t.lat,longitude:t.lng},{latitude:i.lat,longitude:i.lng}].map(S=>({location:{lat:S.latitude,lng:S.longitude},stopover:!0})),O=m.shift().location,P=m.pop().location;let U="DRIVING";new window.google.maps.DirectionsService().route({origin:O,destination:P,travelMode:U,waypoints:m},(S,ee)=>{console.log(S),ee===window.google.maps.DirectionsStatus.OK?g(S):console.log(S)}),console.log("placese : ",m)};p.exports.useEffect(()=>{"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition(function(i){n({lat:i.coords.latitude,lng:i.coords.longitude})})):console.log("Not Available"),c()},[]);const{isLoaded:x,loadError:h}=Ae({googleMapsApiKey:{}.REACT_APP_GOOGLE_MAPS_API_KEY,libraries:qt});if(h)return"Error loading maps";if(!x)return"Loading maps";const C=i=>{console.log("lat : ",i.latLng.lat(),"lng : ",i.latLng.lng())};return a("div",{children:[a(me,{mapContainerStyle:_t,zoom:10,center:{lat:t.lat,lng:t.lng},onClick:i=>C(i),directions:f,children:[s.map(i=>e("div",{children:e(be,{position:{lat:i.currentLocation.lat,lng:i.currentLocation.lng},icon:{url:"https://img.icons8.com/external-kiranshastry-solid-kiranshastry/64/000000/external-shelter-charity-kiranshastry-solid-kiranshastry.png",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0)},onClick:()=>{o(i),n({lat:i.currentLocation.lat,lng:i.currentLocation.lng})}})},i.uid)),l&&e(dt,{position:{lat:l.currentLocation.lat,lng:l.currentLocation.lng},onCloseClick:()=>{o(null)},children:e(Ht,{shelter:l,setRouter:d})})]}),e(jt,{open:b,setOpen:y,shelter:l})]})}function Bt(t){let n=$(P=>P.currentUser);const s=k(),u=W(),{open:l,setOpen:o}=t,[f,g]=v.useState(""),[b,y]=v.useState(""),[c,d]=v.useState(""),[x,h]=v.useState(""),[C,i]=v.useState(0),[r,m]=v.useState(0);p.exports.useEffect(()=>{y(""),g("");const P=T(s,"helpWantedUsers",n.currentUser.uid);q(P).then(U=>{d(U.data().email),h(U.data().displayName),i(U.data().peopleCount),m(U.data().timePeriod),console.log(U)}).catch(U=>console.log(U))},[]);const O=async P=>{if(P.preventDefault(),c===""||x===""||C===0||r===0){g("Please fill out all fields");return}try{const U=T(s,"helpWantedUsers",n.currentUser.uid);await K(U,{email:c,displayName:x,peopleCount:+C,timePeriod:+r});const D=I();await fe(D.currentUser,{displayName:x}),y("User info updated"),u(R(D.currentUser))}catch(U){g(U.message)}};return a(Y,{open:l,onClose:()=>o(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(J,{id:"alert-dialog-title",children:"Help Seeker Account Information"}),a(X,{children:[e(Q,{id:"alert-dialog-description",children:"You can change/Update your account information here. Please note that you can only update your account information once every 24 hours."}),a("form",{style:Gt.formContainer,onSubmit:P=>O(P),children:[f!==""&&a(A,{children:[e(N,{severity:"error",children:f}),e("br",{})]}),b!==""&&a(A,{children:[e(N,{severity:"success",children:b}),e("br",{})]}),e(w,{type:"email",id:"outlined-error-helper-text",placeholder:"Enter your email here",size:"small",value:c,disabled:!0}),e("br",{}),e(w,{type:"text",id:"outlined-error-helper-text",placeholder:"Enter your Display Name here",size:"small",required:!0,value:x,onChange:P=>h(P.target.value),helperText:"Please enter your display name"}),e("br",{}),e(w,{type:"number",id:"outlined-error-helper-text",placeholder:"Enter your family members here",size:"small",required:!0,value:C,onChange:P=>i(P.target.value),helperText:"Please enter the number of family members"}),e("br",{}),e(w,{type:"number",id:"outlined-error-helper-text",placeholder:"Enter your weeks you want to stay",size:"small",required:!0,value:r,onChange:P=>m(P.target.value),helperText:"Please enter the number of weeks you want to stay"}),e("br",{}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"UPDATE ACCOUNT INFO"})]})]}),e(ie,{children:e(L,{onClick:()=>{o(!1),y(""),g("")},autoFocus:!0,children:"Close"})})]})}const Gt={formContainer:{display:"flex",flexDirection:"column",width:"100%",marginTop:25}},Kt={width:"100%",height:"40vh"};function Yt(t){let n=$(i=>i.currentUser);const{open:s,setOpen:u}=t,[l,o]=p.exports.useState({lat:6.7495,lng:79.913}),f=k();I();const[g,b]=p.exports.useState(""),[y,c]=p.exports.useState(""),[d,x]=p.exports.useState("");p.exports.useEffect(()=>{const i=T(f,"helpWantedUsers",n.currentUser.uid);q(i).then(r=>{o({lat:r.data().currentLocation.lat,lng:r.data().currentLocation.lng}),b(r.data().currentLocation.lat+" , "+r.data().currentLocation.lng)}).catch(r=>console.log(r))},[]);const h=i=>{o({lat:i.latLng.lat(),lng:i.latLng.lng()}),b(i.latLng.lat()+" , "+i.latLng.lng())},C=async i=>{if(i.preventDefault(),g===""){c("Please select a location");return}try{const r=I().currentUser,m=T(k(),"helpWantedUsers",r.uid);K(m,{currentLocation:{lat:l.lat,lng:l.lng}}),x("Location set successfully")}catch(r){c(r.message)}};return a(Y,{fullWidth:!0,maxWidth:"md",open:s,onClose:()=>u(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(J,{id:"alert-dialog-title",children:"Set your current Location"}),a(X,{children:[e(Q,{id:"alert-dialog-description",children:"Please select your current location on the map."}),e("br",{}),e(me,{mapContainerStyle:Kt,zoom:15,center:{lat:l.lat,lng:l.lng},onClick:i=>h(i),children:e(be,{position:l,label:"My Location",title:"My rollover text"})}),a("form",{style:Jt.formContainer,onSubmit:i=>C(i),children:[y!==""&&a(A,{children:[e(N,{severity:"error",children:y}),e("br",{})]}),d!==""&&a(A,{children:[e(N,{severity:"success",children:d}),e("br",{})]}),e(w,{type:"text",id:"outlined-error-helper-text",placeholder:"Enter your family members here",size:"small",required:!0,"aria-readonly":!0,value:g}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"UPDATE CURRENT LOCATION"})]})]}),e(ie,{children:e(L,{autoFocus:!0,onClick:()=>{u(!1),c(""),x("")},children:"Close"})})]})}const Jt={formContainer:{display:"flex",flexDirection:"column",width:"100%",marginTop:25}},ge=240,Le=t=>({width:ge,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),overflowX:"hidden"}),De=t=>({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${t.spacing(7)} + 1px)`,[t.breakpoints.up("sm")]:{width:`calc(${t.spacing(8)} + 1px)`}}),Ue=V("div")(({theme:t})=>E({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)),Xt=V(Te,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:n})=>E({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:ge,width:`calc(100% - ${ge}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})),Qt=V(Ne,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:n})=>E(E({width:ge,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&te(E({},Le(t)),{"& .MuiDrawer-paper":Le(t)})),!n&&te(E({},De(t)),{"& .MuiDrawer-paper":De(t)})));function Vt(){let t=$(i=>i.currentUser);const n=W(),[s,u]=p.exports.useState(!0);p.exports.useEffect(()=>{(async()=>{try{const r=T(k(),"helpWantedUsers",t.currentUser.uid),m=await q(r);console.log("selected file : ",m.exists()),m.exists()||(u(!1),d("/")),u(!1)}catch(r){console.log(r),u(!1),d("/")}})()},[]);const l=ke(),[o,f]=p.exports.useState(!1),[g,b]=p.exports.useState(!1),[y,c]=p.exports.useState(!1);let d=j();const x=()=>{f(!0)},h=()=>{f(!1)},C=async()=>{const i=I();console.log("logout");try{await He(i),n(R({})),localStorage.setItem("currentUser",null),d("/")}catch(r){console.log(r)}};return s?e("div",{children:"Loading..."}):a(he,{sx:{display:"flex"},children:[e(Ie,{}),e(Xt,{className:"gradient-background",position:"fixed",open:o,children:a(Oe,{children:[e(B,{className:"gradient-background",color:"inherit","aria-label":"open drawer",onClick:x,edge:"start",sx:E({marginRight:5},o&&{display:"none"}),children:e(ze,{})}),e(Re,{variant:"h6",noWrap:!0,component:"div",children:"HELP WANTED DASHBOARD"})]})}),a(Qt,{variant:"permanent",open:o,children:[a(Ue,{children:[e("label",{style:{fontWeight:"bold"},children:"PUT IN SHELTER"}),e(B,{onClick:h,children:l.direction==="rtl"?e(We,{}):e(Me,{})})]}),e(H,{}),a(xe,{children:[a(_,{sx:{minHeight:48,justifyContent:o?"initial":"center",px:2.5},onClick:()=>b(!0),children:[e(F,{sx:{minWidth:0,mr:o?3:"auto",justifyContent:"center"},children:e($e,{})}),e(z,{primary:"My Profile",sx:{opacity:o?1:0}})]},"My Profile"),a(_,{sx:{minHeight:48,justifyContent:o?"initial":"center",px:2.5},onClick:()=>c(!0),children:[e(F,{sx:{minWidth:0,mr:o?3:"auto",justifyContent:"center"},children:e(pt,{})}),e(z,{primary:"Set My Location",sx:{opacity:o?1:0}})]},"Set My Location"),a(_,{sx:{minHeight:48,justifyContent:o?"initial":"center",px:2.5},onClick:()=>C(),children:[e(F,{sx:{minWidth:0,mr:o?3:"auto",justifyContent:"center"},children:e(je,{})}),e(z,{primary:"Logout",sx:{opacity:o?1:0}})]},"Logout")]}),e(H,{})]}),a(he,{component:"main",sx:{flexGrow:1,p:3},children:[e(Ue,{}),e(Ft,{}),e(Bt,{open:g,setOpen:b,onClose:()=>b(!1)}),e(Yt,{open:y,setOpen:c,onClose:()=>c(!1)})]})]})}function Zt(){const[t,n]=p.exports.useState(""),[s,u]=p.exports.useState(""),[l,o]=p.exports.useState(""),f=j(),g=I(),b=W(),y=async c=>{if(c.preventDefault(),s===""||l===""){n("Please fill in all fields");return}try{const x=(await qe(g,s,l)).user;b(R(x)),f("/helpwanted",{replace:!0})}catch(d){n(d.message)}};return e("div",{className:"gradient-background",style:ce.mainContainer,children:a(Z,{style:ce.formContainer,variant:"outlined",children:[e("h1",{style:ce.headerText,children:"Help Wanted Login"}),a("form",{style:ce.fieldContainer,onSubmit:c=>y(c),children:[t!==""&&a(A,{children:[e(N,{severity:"error",children:t}),e("br",{})]}),e(w,{type:"email",id:"outlined-error-helper-text",label:"Email",placeholder:"Enter your email here",size:"small",required:!0,onChange:c=>u(c.target.value)}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Password",type:"password",placeholder:"Enter your password",size:"small",width:"100%",required:!0,onChange:c=>o(c.target.value)}),e("br",{}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"Login"})]})]})})}const ce={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},formContainer:{width:"60%",maxWidth:"500px"},headerText:{textAlign:"center",fontWeight:"bold"},fieldContainer:{padding:25,display:"flex",flexDirection:"column",justifyContent:"center"}};function er(){let t=j();const n=$(r=>r.currentUser.currentUser),[s,u]=v.useState(""),[l,o]=v.useState("Male"),[f,g]=v.useState(0),[b,y]=v.useState(null),[c,d]=v.useState(0),[x,h]=v.useState("current location not set"),C=k();p.exports.useEffect(()=>{"geolocation"in navigator?(navigator.geolocation.getCurrentPosition(function(r){y({lat:r.coords.latitude,lng:r.coords.longitude})}),h("current location set")):u("User location not avaliable")},[]);const i=async r=>{if(r.preventDefault(),b===null){u("Please set your current location");return}if(f===0){u("Please set people count");return}if(c===0){u("Please set time period");return}u("");try{await Fe(T(C,"helpWantedUsers",n.uid),{uid:n.uid,displayName:n.displayName,email:n.email,gender:l,currentLocation:b,peopleCount:+f,timePeriod:+c}),t("/helpwantedlogin",{replace:!0})}catch(m){u(m.message)}};return e("div",{className:"gradient-background",style:de.mainContainer,children:a(Z,{style:de.formContainer,variant:"outlined",children:[e("h1",{style:de.headerText,children:"Personal Info"}),a("form",{style:de.fieldContainer,onSubmit:r=>i(r),children:[s!==""&&a(A,{children:[e(N,{severity:"error",children:s}),e("br",{})]}),a(_e,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:r=>o(r.target.value),value:l,label:"Gender",size:"small",required:!0,children:[e(G,{value:"Male",children:"Male"}),e(G,{value:"Female",children:"Female"}),e(G,{value:"Other",children:"Other"})]}),e("br",{}),e(w,{type:"number",id:"outlined-error-helper-text",label:"Peoples in your family",placeholder:"Enter number of people in your family",size:"small",required:!0,onChange:r=>g(r.target.value)}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Current Location",type:"text",placeholder:"Enter your current location",size:"small",width:"100%",required:!0,onChange:r=>y(r.target.value),value:x}),e("br",{}),e(w,{id:"outlined-error-helper-text",label:"Time Period (in weeks)",type:"number",placeholder:"How much time do you want to stay",size:"small",width:"100%",required:!0,onChange:r=>d(r.target.value)}),e("br",{}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"Next"})]})]})})}const de={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},formContainer:{width:"60%",maxWidth:"500px"},headerText:{textAlign:"center",fontWeight:"bold"},fieldContainer:{padding:25,display:"flex",flexDirection:"column",justifyContent:"center"}};function tr(){let t=j();const n=W(),[s,u]=v.useState(""),[l,o]=v.useState(""),[f,g]=v.useState(""),[b,y]=v.useState(""),[c,d]=v.useState(""),x=h=>{if(h.preventDefault(),d(""),f!==b){d("Passwords do not match");return}const C=I();Be(C,l,f).then(i=>{console.log("user created : ",i),d(""),fe(C.currentUser,{displayName:s}).then(()=>{n(R(C.currentUser)),t("/helpwantsignupother",{replace:!0})}).catch(r=>{var m=r.message;d(m)})}).catch(function(i){var r=i.code,m=i.message;console.log("error code : ",r),console.log("error message : ",m),d(m)})};return e("div",{className:"gradient-background",style:ue.mainContainer,children:a(Z,{style:ue.formContainer,variant:"outlined",children:[e("h1",{style:ue.headerText,children:"Register"}),a("form",{style:ue.fieldContainer,onSubmit:h=>x(h),children:[c!==""&&a(A,{children:[e(N,{severity:"error",children:c}),e("br",{})]}),e(w,{name:"email",type:"email",id:"outlined-error-helper-text",label:"Email",placeholder:"Type your email",size:"small",required:!0,onChange:h=>o(h.target.value)}),e("br",{}),e(w,{name:"displayName",type:"text",id:"outlined-error-helper-text",label:"Display Name",placeholder:"Type your Display Name",size:"small",required:!0,onChange:h=>u(h.target.value)}),e("br",{}),e(w,{name:"password",id:"outlined-error-helper-text",label:"Password",type:"password",placeholder:"Type your password",size:"small",width:"100%",required:!0,onChange:h=>g(h.target.value)}),e("br",{}),e(w,{name:"confirmPassword",id:"outlined-error-helper-text",label:"Comfirm Password",type:"password",placeholder:"Comfirm password",size:"small",width:"100%",required:!0,onChange:h=>y(h.target.value)}),e(L,{type:"submit",className:"gradient-background",style:{marginTop:25,color:"white",fontSize:"1em",padding:10,border:"0px",borderRadius:8},children:"Next"})]})]})})}const ue={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},formContainer:{width:"60%",maxWidth:"500px"},headerText:{textAlign:"center",fontWeight:"bold"},fieldContainer:{padding:25,display:"flex",flexDirection:"column",justifyContent:"center"}};function rr(){let t=j();const n=()=>{t("/helpwantsignup",{replace:!0})};return a(A,{children:[e("h1",{style:ye.headerText,children:"#CODEFORUKRAINE"}),e("h2",{style:ye.subtitle,children:"Help to find a shelter"}),a("div",{style:ye.content,children:[e("p",{style:{marginTop:-5},children:"\u201CEvery gun that is made, every warship launched, every rocket fired, signifies in the final sense a theft from those who hunger and are not fed, those who are cold and are not clothed.\u201D \u2013 Dwight D. Eisenhower"}),e("br",{}),a("div",{style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:15},children:[e(L,{onClick:()=>n(),style:{color:"#21b6ae",border:"1px solid white"},variant:"outlined",children:"I WANT HELP"}),e(L,{onClick:()=>t("/serviceProvidersignup",{replace:!0}),style:{color:"#21b6ae",border:"1px solid white"},variant:"outlined",children:"I WANT TO HELP"})]})]})]})}const ye={headerText:{color:"white",fontSize:"4em",textAlign:"center"},subtitle:{color:"white",fontSize:"2em",textAlign:"center",marginTop:-5},content:{color:"white",justifyContent:"center",width:"50%",textAlign:"center"}};function nr(){return e("div",{className:"gradient-background",style:ar.mainContainer,children:e(rr,{})})}const ar={mainContainer:{color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}};function Ee({children:t}){let n=W();const s=localStorage.getItem("currentUser")!=="null";return localStorage.getItem("currentUser")!=="null"&&n(R(JSON.parse(localStorage.getItem("currentUser")))),s===!0?t:e(gt,{to:"/"})}function ir(){return e(mt,{children:a(ft,{children:[e(M,{index:!0,element:e(nr,{})}),e(M,{path:"helpwantsignup",element:e(tr,{})}),e(M,{path:"helpwantsignupother",element:e(er,{})}),e(M,{path:"helpwantedlogin",element:e(Zt,{})}),e(M,{path:"serviceProvidersignup",element:e($t,{})}),e(M,{path:"serviceProvidersignupother",element:e(Mt,{})}),e(M,{path:"serviceProviderlogin",element:e(Wt,{})}),e(M,{exact:!0,path:"helpwanted",element:e(Ee,{children:e(Vt,{})})}),e(M,{exact:!0,path:"helpprovider",element:e(Ee,{children:e(Rt,{})})})]})})}function or(){const t=W();return p.exports.useEffect(()=>{localStorage.getItem("currentUser")!=null?t(R(JSON.parse(localStorage.getItem("currentUser")))):t(R(null))},[]),e(ir,{})}const lr=yt({reducer:{currentUser:Pt},middleware:t=>t({serializableCheck:!1})}),sr={apiKey:"AIzaSyBMqXrP3czbaSZTaVNyx14MTtebEQvysJY",authDomain:"put-in-shelter-firebase.firebaseapp.com",projectId:"put-in-shelter-firebase",storageBucket:"put-in-shelter-firebase.appspot.com",messagingSenderId:"473195517855",appId:"1:473195517855:web:fa02007470674c2ec20faa",measurementId:"G-QQN7V1JLBY"};bt(sr);const cr=async()=>{const t=I();xt(t,n=>{n?localStorage.setItem("currentUser",JSON.stringify(n)):localStorage.setItem("currentUser",null)})},dr=()=>{vt.render(e(v.StrictMode,{children:e(Ct,{store:lr,children:e(or,{})})}),document.getElementById("root"))};cr();dr();
